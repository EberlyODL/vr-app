<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="a-frame-import.html">

<dom-module id="a-frame">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>

    <div id="sceneContainer">
      <a-scene>
        <a-box position="-1 0.5 -3" rotation="0 45 0" color="#4CC3D9" shadow></a-box>
        <a-sphere position="0 1.25 -5" radius="1.25" color="#EF2D5E" shadow></a-sphere>
        <a-cylinder position="1 0.75 -3" radius="0.5" height="1.5" color="#FFC65D" shadow></a-cylinder>
        <a-plane position="0 0 -4" rotation="-90 0 0" width="4" height="4" color="#7BC8A4" shadow></a-plane>
        <a-sky color="#ECECEC"></a-sky>
      </a-scene>
    </div>
    
  </template>
  <script>
    Polymer({
      is: 'a-frame',
      properties: {
        scene: {
          type: String,
          value: '',
          observer: '_sceneChanged'
        }
      },
      _sceneChanged: function (scene, prevScene) {
        // dirty check
        if (scene === prevScene) return;
        // remove the <a-scene> tags
        setTimeout(() => {
          this.$.sceneContainer.innerHTML = '<a-scene><a-box position="-1 0.5 -3" rotation="0 45 0" color="#4CC3D9" shadow></a-box></a-scene>';
        }, 3000);
      }
    });
  </script>
</dom-module>
